<script lang="ts">
	import logotype from '$lib/images/fogata-logotype.svg';
	import Provider from '$lib/Provider.svelte';
  import { SettingsSharp } from 'svelte-ionicons';
  import { rpcs, user } from '$lib/stores'
	import RpcControl from './RpcControl.svelte';
	import type { Writable } from 'svelte/store';
	import type { Pool } from '$lib/types';

  export let pool: Writable<Pool> | null;

  // $: console.log('user: ', $user);

</script>


   <div class="pt-4">

    <div class="navbar max-w-[1300px] px-4 py-3 sm:px-6 sm:py-4 lg:py-4 mx-auto rounded-[20px] bg-base-100 shadow-red-100 dark:shadow-red-500/30 shadow-md">
		  <div class="flex flex-wrap w-full gap-4 justify-between items-center">

        <div class="flex flex-grow items-center gap-1 sm:gap-4 w-full sm:w-auto justify-center sm:justify-start">
          {#if $pool?.parameters.image}
            <img src={$pool?.parameters.image} alt="Miner logo" class="h-10 w-auto sm:h-14 relative -top-1"/>
          {:else}
            <svg version="1.1" class="max-h-6 sm:max-h-10 mt-2" style="fill: currentColor;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                y="0px" viewBox="0 0 676.8915 171.8911" enable-background="new 0 0 676.8915 171.8911" xml:space="preserve">
                <g>
                  <path d="M296.1059,112.9597c-9.4852,4.6667-18.9684,7.137-29.1771,7.0776c-31.255-0.182-56.9121-25.5382-57.2129-56.8378
                    c-0.2977-30.9723,24.7734-57.1087,55.7382-57.6869c17.9791-0.3358,35.9702,0.0141,53.9545-0.1264
                    c4.5064-0.0352,6.0731,1.5981,6.0532,6.174c-0.1491,34.3048,0.0366,68.611-0.1198,102.9157
                    c-0.141,30.9456-24.254,55.7279-55.2549,57.3319c-4.4118,0.2283-6.0825-1.4391-5.9748-5.6987
                    c0.1431-5.6583,0.1963-11.3275,0.0076-16.9827c-0.1373-4.113,1.208-5.8326,5.6407-6.1614
                    C285.8398,141.7723,297.6089,128.5321,296.1059,112.9597z M295.9199,33.948c-9.7697,0-19.5511-0.1501-29.326,0.0348
                    c-15.0746,0.2852-27.4258,12.2055-28.2285,26.9815c-0.7926,14.5911,10.0623,28.0389,24.3538,30.1711
                    c15.7178,2.3451,30.7313-6.7874,32.883-21.955C297.2122,57.8307,295.9199,46.0692,295.9199,33.948z"/>
                  <path d="M434.4142,114.579c-8.4624,1.8993-16.7101,4.7958-25.1331,5.4558c-32.4336,2.5412-60.4609-22.2243-61.7363-53.8347
                    c-1.3291-32.9411,23.9894-60.129,56.8638-60.7004c17.6413-0.3066,35.2929,0.0245,52.9383-0.12
                    c4.4811-0.0367,6.171,1.5651,6.1523,6.1389c-0.1393,34.127-0.0872,68.2547-0.1163,102.3822
                    c-0.0051,5.9477-0.5562,6.4628-6.6428,6.4999c-4.6611,0.0284-9.3385-0.2473-13.9797,0.0556
                    C437.731,120.7845,434.074,119.8642,434.4142,114.579z M434.3946,34.0816c-10.3593,0-20.1682-0.1671-29.9693,0.0383
                    c-15.5244,0.3253-27.6572,12.6122-28.1009,28.169c-0.4337,15.2086,11.1537,28.061,26.7324,29.6508
                    c14.5495,1.4847,29.6075-9.6113,31.119-24.3218C435.2903,56.771,434.3946,45.7175,434.3946,34.0816z"/>
                  <path d="M648.23,114.4909c-8.7435,1.9577-17.0154,4.824-25.4667,5.5231c-33.1514,2.7424-60.215-21.952-61.8618-55.7468
                    c-1.5054-30.894,24.8879-58.2969,56.8994-58.7713c17.6561-0.2616,35.3203,0.0567,52.9785-0.1251
                    c4.6385-0.0478,6.1259,1.8061,6.1122,6.2185c-0.1063,34.1532-0.1478,68.307-0.0249,102.46c0.0173,4.8025-1.704,6.6185-6.441,6.3884
                    c-5.1521-0.2503-10.3333-0.201-15.4892,0.015C650.2935,120.6471,647.2433,119.53,648.23,114.4909z M647.6728,34.0498
                    c-9.9391,0-19.7335-0.1559-29.5211,0.0357c-15.5485,0.3044-27.8049,12.3806-28.494,27.8063
                    c-0.6736,15.0774,10.8745,28.2361,26.326,29.9978c14.9379,1.7031,29.7421-9.0004,31.454-24.2381
                    C648.6509,56.8535,647.6728,45.8094,647.6728,34.0498z"/>
                  <path d="M191.75,63.1588c-1.0067,34.4616-26.9452,59.8026-60.1317,58.7466c-31.6802-1.0081-56.9205-28.4175-55.7961-60.5913
                    c1.1916-34.0975,27.1766-58.2998,61.4388-57.2239C167.5674,5.0419,192.6534,32.2362,191.75,63.1588z M163.595,63.4134
                    c0.2878-17.6731-12.2586-31.266-29.0854-31.5114c-17.099-0.2494-29.9549,12.3366-30.3091,29.6727
                    c-0.3794,18.5699,11.6312,31.8468,29.2274,32.3087C150.1749,94.3229,163.3077,81.0583,163.595,63.4134z"/>
                  <path d="M28.6484,119.9862c0,4.8551-0.0007,9.1353,0.0001,13.4154c0.002,10.6574-0.1077,21.3166,0.0597,31.9714
                    c0.0717,4.5609-1.3296,6.8019-6.323,6.4892c-5.4739-0.3428-10.9943-0.271-16.4782-0.0211
                    c-4.403,0.2006-5.8749-1.6716-5.8537-5.8929c0.1022-20.3151,0.0157-40.6311,0.0407-60.9468
                    C0.1151,87.8507-0.2597,70.6836,0.355,53.553C1.3788,25.0249,25.8832,1.0955,54.4133,0.0384
                    c6.0572-0.2244,6.7159,0.3703,6.7426,6.2773c0.0257,5.6612-0.0534,11.3234,0.0285,16.9835
                    c0.047,3.2508-1.2591,4.6424-4.6323,5.0864c-18.4447,2.428-28.026,13.5499-27.9367,32.0051
                    c0.0419,8.6588,0.2494,17.3272-0.0834,25.9733c-0.1748,4.54,1.5008,5.6946,5.7439,5.5141
                    c7.1478-0.3039,14.3214,0.0464,21.4764-0.1542c4.186-0.1174,5.6221,1.654,5.4702,5.6778
                    c-0.2072,5.4873-0.2381,10.9964,0.0049,16.4807c0.1994,4.4996-1.4592,6.3061-6.075,6.1744
                    C46.5456,119.8111,37.9268,119.9862,28.6484,119.9862z"/>
                  <path d="M514.045,56.9989c9.0984,0,17.7413,0.1329,26.3771-0.0566c4.2565-0.0934,6.0962,1.4626,5.945,5.8159
                    c-0.2021,5.8202-0.1163,11.6537-0.0261,17.4796c0.0585,3.7816-1.5899,5.4483-5.4149,5.3872
                    c-7.6568-0.1223-15.3195,0.0643-22.9741-0.114c-3.2546-0.0758-4.3636,1.0317-4.2861,4.3184
                    c0.1962,8.3198-0.0161,16.6483,0.0927,24.9712c0.1884,14.4146,11.4617,26.9444,25.9074,28.1884
                    c5.1844,0.4465,7.0423,2.325,6.7251,7.3967c-0.3216,5.141-0.205,10.323-0.0226,15.4779c0.1625,4.5896-1.8706,6.1493-6.3348,5.9856
                    c-28.8506-1.058-53.8164-25.2252-54.6977-54.1347c-0.6946-22.7889-0.2481-45.6129-0.2893-68.4214
                    c-0.0231-12.8198,0.1136-25.6414-0.0724-38.4585c-0.0686-4.7234,1.6938-6.6676,6.4527-6.4506
                    c5.3166,0.2425,10.6611,0.2328,15.9784-0.0039c4.7643-0.2121,6.4648,1.7938,6.4041,6.4732
                    c-0.1793,13.8165-0.0799,27.6368-0.0667,41.4555C513.744,53.616,513.9061,54.9229,514.045,56.9989z"/>
                </g>
            </svg>
          {/if}

          <span class="ml-1 text-lg sm:text-3xl font-semibold">{$pool?.parameters.name ?? "mining pools"}</span>
        </div>

        <div class="flex gap-2 sm:gap-4 w-full sm:w-auto justify-end">
          <Provider />
          <div class="dropdown dropdown-end ">
            <button class="btn btn-outline btn-sm sm:btn-md">
              <SettingsSharp size="24" />
            </button>
            <!-- svelte-ignore a11y-no-noninteractive-tabindex -->
            <div tabindex="0" class="dropdown-content menu mt-2 p-2 shadow bg-base-100 rounded-box w-[250px]">
              <!-- <li><button>Parent menu item</button></li> -->
              <div class="menu-title mt-4 mb-1 pl-4 text-xs font-bold opacity-30">RPC endpoint</div>
              <RpcControl rpcs={rpcs} user={user} />
            </div>
          </div>
        </div>

		  </div>
		</div>
  </div>


<style></style>
